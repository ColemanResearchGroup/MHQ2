---
title: "MHQ2 Bulimia nervosa DSM-5 algorithm"
author: "Zhaoying YU, Helena Davies, Christopher Huebel, Johan"
output: html_document
date: "2023-11-07"
---


```{r}
library("tidyverse")
```

# Import data

```{r}
#dat <- readRDS("/Users/lilian/Desktop/MHQ2_Anonymous.rds")
dat <- readRDS("/Users/christopherhuebel/work/raw_data/MHQ2_Anonymous.rds")
```

# Purging disorder

Was there a time in your life when you made yourself vomit, used laxatives, diuretics or pills, on their own or in combination, at least once a week as a way to control your body shape or weight? = 1 Yes, at least once a week 

>'29144-0.0' == 1

AND
Outside any periods of low weight or regular overeating/binge eating that you may have told us about, what was the longest amount of time where you engaged in any of the behaviours (made yourself vomit, used laxatives, diuretics or pills), on their own or in combination, at least once a week? = 0 At least three months

>'29145-0.0' == 0

AND
During the time when you were engaging in these behaviours, how dependent was your self-worth on your body shape or weight? = 2 A great deal OR 1 A moderate amount

>'29146-0.0' %in% c(1,2)

```{r}
# Purging disorder
dat <- dat %>%
  mutate(
    Purging_disorder = 
      case_when(
        # Purging behaviours & once a week
        `29144-0.0` == 1 &
          
          # & at least three months
          `29145-0.0` == 0 &
          
          # & self-worth dependent on body shape/weight during purging
          `29146-0.0` %in% c(1, 2)
        ~ 1,
        
        TRUE ~ 0
        )
  )
```


Purging disorder
```{r}
dat %>%
  count(Purging_disorder)
```



