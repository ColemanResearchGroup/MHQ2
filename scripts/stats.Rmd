---
title: "Statistics for comparing with UK Biobank Showcase"
author: "Johan Zvrskovec"
date: '2024-01-24'
output: html_document
---

```{r Clear global environment}
rm(list=ls())
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library("summarytools")
library("dplyr")
library("tidyverse")
library("data.table")
```

```{r read in data}
dat <- readRDS("data/MHQ2_Anonymous.rds")
dat$ID<-1:nrow(dat)
setDT(dat,key = "ID")
```

#Binge Eating behaviours, as used in BED_DSM5.Rmd

## Checks
```{r}

nrow(dat[`29136-0.0`==`29136-0.1`,])
nrow(dat[!is.na(`29136-0.0`) & !is.na(`29136-0.1`),])

freq(dat$`29136-0.0`)

```

## Merge
One new variable per answer option that we sum the answers of:
n29136_n3:    -3
n29136_0:     0
n29136_1:     1
n29136_2:     2
n29136_3:     3
n29136_4:     4
n29136_5:     5
```{r}

dat[,n29136_n3:=`29136-0.0`==-3 | `29136-0.1`==-3 | `29136-0.2`==-3 | `29136-0.3`==-3 | `29136-0.4`==-3]
freq(dat$n29136_n3)
dat[,n29136_0:=`29136-0.0`==0 | `29136-0.1`==0 | `29136-0.2`==0 | `29136-0.3`==0 | `29136-0.4`==0]
freq(dat$n29136_0)
dat[,n29136_1:=`29136-0.0`==1 | `29136-0.1`==1 | `29136-0.2`==1 | `29136-0.3`==1 | `29136-0.4`==1]
freq(dat$n29136_1)
dat[,n29136_2:=`29136-0.0`==2 | `29136-0.1`==2 | `29136-0.2`==2 | `29136-0.3`==2 | `29136-0.4`==2]
freq(dat$n29136_2)
dat[,n29136_3:=`29136-0.0`==3 | `29136-0.1`==3 | `29136-0.2`==3 | `29136-0.3`==3 | `29136-0.4`==3]
freq(dat$n29136_3)
dat[,n29136_4:=`29136-0.0`==4 | `29136-0.1`==4 | `29136-0.2`==4 | `29136-0.3`==4 | `29136-0.4`==4]
freq(dat$n29136_4)
dat[,n29136_5:=`29136-0.0`==5 | `29136-0.1`==5 | `29136-0.2`==5 | `29136-0.3`==5 | `29136-0.4`==5]
freq(dat$n29136_5)

```


